<h2>Mes tâches</h2>

<form (submit)="createTask(); $event.preventDefault()">
  <input type="text" [(ngModel)]="newTask.title" name="title" placeholder="Titre" required>
  <input type="text" [(ngModel)]="newTask.notes" name="notes" placeholder="Notes">
  <input type="date" [(ngModel)]="newTask.due_date" name="due_date">
  <button type="submit">Ajouter</button>
</form>

<ul *ngIf="!loading">
  <li *ngFor="let task of tasks">
    <strong>{{ task.title }}</strong>
    <small *ngIf="task.due_date"> (à faire pour {{ task.due_date }})</small>
    <br>
    <em>{{ task.notes }}</em>
    <br>
    <button (click)="deleteTask(task.id)">Supprimer</button>
  </li>
</ul>

<p *ngIf="loading">Chargement...</p>
